# config-map.yaml v1.1.0
{{- if .Values.app.configuration }}
{{- include "cronjob.configmapTemplate" (dict "jobName" .Values.jobName "appName" .Values.projectName "configMapName" "config" "configSection" .Values.app "additionalLabels" .Values.additionalLabels) }}
{{- end }}

{{- if .Values.initContainer.enabled }}
{{- include "cronjob.configmapTemplate" (dict "jobName" .Values.jobName "appName" .Values.projectName "configMapName" "init-config" "configSection" .Values.initContainer "additionalLabels" .Values.additionalLabels) }}
{{- end }}

{{- if .Values.app.mountFiles }}
{{range .Values.app.mountFiles }}
{{- include "cronjob.configmapTemplate" (dict "jobName" $.Values.jobName "appName" $.Values.projectName "configMapName" (printf "app-%s-config" .name) "configSection" . "additionalLabels" $.Values.additionalLabels) }}
{{- end }}
{{- end }}